"use strict";(self.webpackChunknews_track=self.webpackChunknews_track||[]).push([[994],{1994:(y,c,i)=>{i.r(c),i.d(c,{LoginModule:()=>M});var g=i(8438),d=i(2340),e=i(4650),u=i(9745),m=i(6405),p=i(7185),a=i(433),h=i(6895);const v=function(){return["/signup"]},f=function(){return["/forgot-password"]};class b{constructor(){this.email="",this.password="",this.remember=!1}}const Z=[{path:"",component:(()=>{class n{constructor(t,o,r,s,T,L){this.router=t,this.jwtService=o,this.spinner=r,this.usersService=s,this.globalService=T,this.toastr=L,this.title="Login | News Track",this.login=new b}ngOnInit(){this.spinner.hide(),this.globalService.getPageTitle(this.title);let t=this.jwtService.getCookie(d.N.cookieToken);t&&(this.login=t)}doLogin(){let t=this.login;this.spinner.show(),t.remember?this.jwtService.setCookie(d.N.cookieToken,t):this.jwtService.deleteCookie(d.N.cookieToken),this.usersService.doSignIn(t).subscribe(o=>{if(this.spinner.hide(),200==o.status){let r=o.data;this.toastr.success(o.message,"Success"),this.jwtService.saveToken(r.authorization),this.jwtService.saveCurrentUser(JSON.stringify(r)),this.jwtService.getCurrentUser(),this.globalService.sendActionChildToParent("Loggin"),this.router.navigate(r&&r.role===d.N.role.adminRole?["/dashboard"]:["/home"])}else this.toastr.error(o.message,"Error")},o=>{this.spinner.hide(),this.toastr.error(o.message,"Error")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(u.Tj),e.Y36(m.t2),e.Y36(u.fz),e.Y36(u.Uh),e.Y36(p._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:47,vars:11,consts:[[1,"app-body"],[1,"main","d-flex","align-items-center"],[1,"container"],[1,"row"],[1,"col-md-8","mx-auto"],[1,"card-group"],[1,"card","p-4","mb-0","login-section","position-relative"],[1,"d-flex","custom-border"],[1,"secondary-bg"],[1,"primary-bg"],[1,"card-body"],[1,"text-muted"],[1,"input-group","mb-3"],[1,"input-group-text"],[1,"icon-user"],["type","email","placeholder","Email","required","","id","email","name","email","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-2"],[1,"icon-lock"],["type","password","placeholder","Password","required","","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mb-4"],["href"," #",1,"float-left","text-primary","clr-primary"],["type","checkbox","id","remember","name","remember","value","1",1,"form-check-input",3,"ngModel","ngModelChange"],["for","remember",1,"form-check-label"],[1,"col-12","text-center"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"card","text-white","bg-secondary","py-5","login-section"],[1,"card-body","text-center"],["type","button",1,"btn","btn-primary","mt-3",3,"routerLink"],[3,"innerHtml"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"span",8)(9,"span",9)(10,"span",8)(11,"span",9),e.qZA(),e.TgZ(12,"div",10)(13,"h1"),e._uU(14,"Login"),e.qZA(),e.TgZ(15,"p",11),e._uU(16,"Sign In to your account"),e.qZA(),e.TgZ(17,"div",12)(18,"span",13),e._UZ(19,"i",14),e.qZA(),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(s){return o.login.email=s}),e.qZA()(),e.TgZ(21,"div",16)(22,"span",13),e._UZ(23,"i",17),e.qZA(),e.TgZ(24,"input",18),e.NdJ("ngModelChange",function(s){return o.login.password=s}),e.qZA()(),e.TgZ(25,"div",19)(26,"a",20)(27,"input",21),e.NdJ("ngModelChange",function(s){return o.login.remember=s}),e.qZA(),e.TgZ(28,"label",22),e._uU(29,"\xa0 Remember Me"),e.qZA()()(),e.TgZ(30,"div",3)(31,"div",23)(32,"button",24),e.NdJ("click",function(){return o.doLogin()}),e._uU(33," Login "),e.qZA()()()()(),e.TgZ(34,"div",25)(35,"div",26)(36,"div")(37,"h2"),e._uU(38,"Sign up"),e.qZA(),e.TgZ(39,"button",27),e._uU(40,"Register Now!"),e.qZA(),e._UZ(41,"br"),e.TgZ(42,"button",27),e._uU(43,"Forgot password?"),e.qZA()()()()(),e.TgZ(44,"pre",28),e.ALo(45,"json"),e._uU(46," "),e.qZA()()()()()()),2&t&&(e.xp6(20),e.Q6J("ngModel",o.login.email),e.xp6(4),e.Q6J("ngModel",o.login.password),e.xp6(3),e.Q6J("ngModel",o.login.remember),e.xp6(5),e.Q6J("disabled",!o.login.email||!o.login.password),e.xp6(7),e.Q6J("routerLink",e.DdM(9,v)),e.xp6(3),e.Q6J("routerLink",e.DdM(10,f)),e.xp6(2),e.Q6J("innerHtml",e.lcZ(45,7,o.login),e.oJD))},dependencies:[a.Fj,a.Wl,a.JJ,a.Q7,a.On,g.rH,h.Ts],styles:["@media (min-width: 575.5px){.login-section[_ngcontent-%COMP%]{max-width:44%}}"]}),n})(),pathMatch:"full"}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.eY,C]}),n})()}}]);